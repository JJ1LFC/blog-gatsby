---
title: "テレカン・オンラインイベント環境を整えた話"
slug: "telecom-env"
date: "2020-05-27"
---

**本記事は過去の遺物です**

お家のテレカン環境を整えたのでメモ

## 6/10 追記 OBS のフィルタについて

OBS のフィルタをちょっと設定してみたので設定値をメモする
ReaFir→Compressor の順。

### ReaFir

常識的な設定

### Compressor

| 項目        | 値         |
| ----------- | ---------- |
| Ratio       | `5.00:1`   |
| Threshold   | `-18.00`dB |
| Attack      | `6`msec    |
| Release     | `60`msec   |
| Output Gain | `3.00`dB   |

ノイズの関係でゲインはミキサで盛らずにここで盛っている

iZotope のセールやってるときに VST で使えるツール買いたい。
特に de-crackler が切実にほしい。聞いてて汚い。

## 6/6 追記

細かいところは下に取り消し線を引いて太字で書いてます。
オーディオインターフェース兼ミキサの Behringer Xenyx 1204USB を入手したので、音声入出力を全部集めました。

### 入力

| チャンネル | ソース      | 用途                                                                                    |
| ---------- | ----------- | --------------------------------------------------------------------------------------- |
| 1ch        | SM58        | 自分の声をメインで拾う                                                                  |
| 2ch        | ECM-VG1     | 配置の関係上右のディスプレイを見てしゃべると声が入らないので、その補填用                |
| 5/6ch      | Macbook Pro | ステレオケーブルでつなぎ、モニタに流して BGM をかけたりマスターに流して音素材を流したり |
| USB        | Win 機      | モニタにのみ流して会議音声を聞く                                                        |

### 出力

| via             | 出力先      | 用途                                                                          |
| --------------- | ----------- | ----------------------------------------------------------------------------- |
| USB             | Win 機      | OBS→NETDUETTO 経由で会議ソフトに流す                                          |
| モニタ (Phones) | WH-1000X M3 | とりあえず全部の音をここに流す。MDR-7506 を使っていたけど耳がつかれるので変更 |

## ベース

音声の入出力は外部デバイスを使う。
音声も映像もハードウェアでコントロールしたいが高いので Windows に OBS を入れて代用する (なぜかほしかった AG03 も amazon から消えてヤフオクで高額販売されている)。
予備として素のままで使う体の MacBook Pro も用意しておく。
使うオンライン会議システムは Zoom と Webex Meetings, Webex Training を想定。

## 映像

PC 内蔵カメラで一応事足りるので、顔を写すカメラとしてはそれをソースにする。
~~背景が汚いので Snapcamera で取り込み、バーチャルグリーンバックを充てる。~~**Amazon で 3000 円くらいで 3m\*6m くらいのグリーンバックを買って部屋に貼り付けた。**
~~Snapcamera~~ **内蔵カメラ**をカメラデバイスとして OBS で取り込み、緑色のクロマキーフィルタを適用する。
OBS で Snapcamera の下に[ここ](https://online-meishi.biz/)で作ったバーチャル名刺とかをあてておく。
ただ OBS で取り込むだけではオンライン会議システムで使えないので、[OBS-virtualcam](https://obsproject.com/forum/resources/obs-virtualcam.539/) を使って仮想カメラ化する。
OBS-virtualcam は面倒なので always on みたいなチェックボックスにチェックしておく
オンライン会議システムからは `OBS-virtualcam` を映像ソースとして使う。
HC-X1000 なんてものが何故か転がってるので、そのうちキャプチャデバイスを買ってこれをカメラとして使いたい。

イベントのときとかはスライドをメインにクロマキー合成した自分を右下に置くとかする。
紙のワークシートを使う授業や手元で実演する系の授業では、外付けモニタの上に Logicool のウェブカムを固定し真下に向けて書画カメラにする。
Snapcamera のバーチャル背景は人間以外のものを見せると消えることが多いので、諦めて最初から書画カメラを用意しておく。
![](/assets/2005/telecon-1.jpg)

照明はデスクライトの蛍光灯とリングライトを使うが、下手に安いリングライト買うより蛍光灯のデスクライト買ったほうが良かったかもしれない。
綺麗にバーチャル背景を出したり見た目の印象を明るくしたりするためやはりライティング大事。

## 音声

~~マイクは[これ](https://www.amazon.co.jp/dp/B081C1ZYJK/ref=cm_sw_r_apa_i_fyCZEb1XAZ4D6)を買った。YouTube でいい感じのレビュー動画がたくさん上がっている。これ一つ 8000 円 で全部揃う。~~**たまに突然ゲインが爆下がりして出力で +12db かさ増しする自体になったので諦めて、サウンドハウスから Shure の SM58 を買った。カーディオイド特性的にも周波数特性的にも下で述べるノイズを拾いにくく、ReaFir でのフィルタを最小限にできる。**
直接だとノイズも綺麗に拾ってしまうが、大抵のオンライン会議システムはノイズリダクションを内蔵しているのであんまり気にしなくて良い。
けどうちはネットワーク機器のファン音が主たるノイズ源で定常的に同じ音を発しているので、サンプリングして消せたらいいなと思ってこんなことをした。

まずマイクの入力を OBS で取り込む。
[REAPER](http://reaper.fm/reaplugs/) をインストールして、OBS のプラグインとして使う。
OBS 上でマイクのフィルタ設定で REAPER を追加し、`Open Plug-in interface` から Mode を Subtract mode に変更、現実でノイズ以外が聞こえない状態にして `Automatically build noise profile` を数秒間チェックする。チェックしている間ノイズのサンプリングが行われる。
チェックを外してモニターしてみると綺麗にノイズが削れている。

これだけではオンライン会議システムで使えないので、[NETDUETTO](https://www.netduetto.net/download/) など仮想サウンドカードを入れる。
OBS 側で `Settings`→`Audio`→`Advanced`→`Monitoring Device` を NETDUETTO に設定し、オーディオミキサの設定から maono マイクの `Audio Monitoring` を `Monitor and Output` にしておく。
オンライン会議システムからは NETDUETTO を音声ソースとして使う。

![](/assets/2005/telecon-2.jpg)
使ってみて何かあったら書き足します。
